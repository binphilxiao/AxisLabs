Version 4
SHEET 1 1500 800
WIRE -16 -208 -192 -208
WIRE 816 -208 -16 -208
WIRE -1152 -192 -1488 -192
WIRE -800 -192 -1152 -192
WIRE -192 -160 -192 -208
WIRE 720 -160 528 -160
WIRE 528 -128 528 -160
WIRE -800 -96 -800 -192
WIRE -800 -96 -864 -96
WIRE -736 -96 -800 -96
WIRE -864 -64 -864 -96
WIRE -736 -64 -736 -96
WIRE -192 -48 -192 -80
WIRE 80 -32 -128 -32
WIRE 528 -16 528 -48
WIRE -16 32 -16 -208
WIRE -128 48 -128 -32
WIRE -48 48 -128 48
WIRE -1488 64 -1488 -192
WIRE -736 64 -736 0
WIRE -496 64 -736 64
WIRE 80 64 80 -32
WIRE 80 64 16 64
WIRE 128 64 80 64
WIRE 160 64 128 64
WIRE 272 64 224 64
WIRE 384 64 272 64
WIRE 464 64 384 64
WIRE 544 64 464 64
WIRE 656 64 624 64
WIRE -864 80 -864 0
WIRE -864 80 -928 80
WIRE -48 80 -128 80
WIRE -496 96 -496 64
WIRE 816 96 816 -208
WIRE 272 112 272 64
WIRE 464 112 464 64
WIRE 720 112 720 -160
WIRE 784 112 720 112
WIRE -928 128 -928 80
WIRE -16 128 -16 96
WIRE 944 128 848 128
WIRE -128 144 -128 80
WIRE -128 144 -208 144
WIRE 656 144 656 64
WIRE 720 144 656 144
WIRE 784 144 720 144
WIRE -864 160 -864 80
WIRE -736 160 -736 64
WIRE -496 192 -496 176
WIRE -208 192 -208 144
WIRE -208 192 -496 192
WIRE 816 192 816 160
WIRE -496 224 -496 192
WIRE 272 224 272 176
WIRE 464 224 464 192
WIRE 464 224 272 224
WIRE 272 256 272 224
WIRE -864 272 -864 224
WIRE -800 272 -864 272
WIRE -736 272 -736 224
WIRE -736 272 -800 272
WIRE 720 272 720 144
WIRE 784 272 720 272
WIRE 944 272 944 128
WIRE 944 272 864 272
WIRE -496 336 -496 304
WIRE -1488 368 -1488 144
WIRE -1152 368 -1488 368
WIRE -800 368 -800 272
WIRE -800 368 -1152 368
FLAG 272 256 0
FLAG -16 128 0
FLAG -928 128 0
FLAG -1152 -192 V+
FLAG -1152 368 V-
FLAG -192 -48 0
FLAG -208 144 V_R
FLAG 128 64 V_F
FLAG 384 64 V_D
FLAG -496 336 0
FLAG 528 -16 0
FLAG 816 192 0
FLAG 944 128 out
SYMBOL voltage -1488 48 R0
WINDOW 0 18 136 Left 2
WINDOW 3 18 167 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 4 0 1n 1n 1u 10u 1000)
SYMBOL cap 256 112 R0
SYMATTR InstName C1
SYMATTR Value 0.01µf
SYMBOL res 448 96 R0
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL OpAmps\\LTC6241 -16 64 R0
SYMATTR InstName U1
SYMBOL schottky -848 0 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky -752 -64 R0
SYMATTR InstName D2
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky -720 224 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky -880 160 R0
SYMATTR InstName D5
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 160 80 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL voltage -192 -176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 3.3
SYMBOL res -512 80 R0
SYMATTR InstName R2
SYMATTR Value 50k
SYMBOL res -512 208 R0
SYMATTR InstName R3
SYMATTR Value 100K
SYMBOL voltage 528 -144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 2.5
SYMBOL OpAmps\\LTC6241 816 128 R0
SYMATTR InstName U2
SYMBOL res 880 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 3Meg
SYMBOL res 640 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100k
TEXT -1152 312 Left 2 !.tran 0 1m 0.5m
TEXT -1408 -136 Left 5 ;V_MOTOR
TEXT -1408 -48 Left 5 ;4V or 5V
TEXT -1408 48 Left 5 ;PWM 100kHz
TEXT -1408 136 Left 5 ;duty 10%~90%
TEXT -1024 424 Left 5 ;Bridge Rectification
TEXT -624 24 Left 5 ;Voltage divider
TEXT -120 184 Left 5 ;Follower
TEXT 200 296 Left 5 ;Peak Detection
TEXT 200 344 Left 5 ;Network
TEXT 704 336 Left 5 ;Schmitt
TEXT 704 384 Left 5 ;Comparator
